# ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤ "Error sending confirmation email" (500) ‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ SMTP

## üîç ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

‡πÅ‡∏°‡πâ‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ SMTP ‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÄ‡∏à‡∏≠ error:
```
Error sending confirmation email
Status: 500 (Internal Server Error)
```

## ‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö)

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ SMTP Settings Save ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á

1. **‡πÑ‡∏õ‡∏ó‡∏µ‡πà Supabase Dashboard** ‚Üí **Authentication** ‚Üí **Email** ‚Üí **SMTP Settings**
2. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤:**
   - ‚úÖ "Enable custom SMTP" **‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà** (toggle ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)
   - ‚úÖ ‡∏ó‡∏∏‡∏Å field ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß
3. **‡∏Ñ‡∏•‡∏¥‡∏Å "Save changes"** ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á (‡πÅ‡∏°‡πâ‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏•‡πâ‡∏ß)
4. **‡∏£‡∏≠ 1-2 ‡∏ô‡∏≤‡∏ó‡∏µ** ‡πÉ‡∏´‡πâ Supabase ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö SMTP Connection

**‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ SMTP ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà:**

1. **‡πÉ‡∏ô SMTP Settings page** ‡∏´‡∏≤‡∏õ‡∏∏‡πà‡∏° **"Test email"** ‡∏´‡∏£‡∏∑‡∏≠ **"Send test email"**
2. **‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏°** ‚Üí ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö
3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Resend Dashboard** ‚Üí **Logs** ‡∏ß‡πà‡∏≤ email ‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
4. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö inbox** (‡πÅ‡∏•‡∏∞ spam folder)

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Resend API Key

**‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ API Key ‡∏¢‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ:**

1. **‡πÑ‡∏õ‡∏ó‡∏µ‡πà Resend Dashboard** ‚Üí **API Keys**
2. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤:**
   - API Key ‡∏¢‡∏±‡∏á Active ‡∏≠‡∏¢‡∏π‡πà
   - Last Used ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï
   - ‡πÑ‡∏°‡πà‡∏°‡∏µ error ‡∏´‡∏£‡∏∑‡∏≠ warning
3. **‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤** ‚Üí ‡∏•‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á API Key ‡πÉ‡∏´‡∏°‡πà

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö SMTP Settings ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á

**‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:**

1. **Host**: `smtp.resend.com` (‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡πÑ‡∏°‡πà‡∏°‡∏µ space)
2. **Port**: `587` (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà 465)
3. **Username**: `resend` (‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡πá‡∏Å)
4. **Password**: [Resend API Key] (‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Ñopy ‡∏°‡∏≤‡πÄ‡∏ï‡πá‡∏° ‡πÑ‡∏°‡πà‡∏°‡∏µ space)
5. **Sender email**: `onboarding@resend.dev`

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: ‡∏õ‡∏¥‡∏î Email Verification ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)

**‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏™‡πà‡∏á email ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡πÉ‡∏´‡πâ‡∏õ‡∏¥‡∏î email verification ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß:**

1. **Supabase Dashboard** ‚Üí **Authentication** ‚Üí **Settings**
2. **‡∏´‡∏≤‡∏™‡πà‡∏ß‡∏ô "Email"** ‡∏´‡∏£‡∏∑‡∏≠ **"Email Auth"**
3. **‡∏õ‡∏¥‡∏î toggle** **"Enable email confirmations"**
4. **Save**
5. **‡∏•‡∏≠‡∏á signup ‡πÉ‡∏´‡∏°‡πà**

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**: ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ signup ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á verify email ‡πÅ‡∏ï‡πà‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 6: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Supabase Logs

**‡∏î‡∏π error logs ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**

1. **Supabase Dashboard** ‚Üí **Authentication** ‚Üí **Audit Logs**
2. **‡∏î‡∏π signup attempts** ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö error messages** ‡∏ó‡∏µ‡πà‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏ß‡πà‡∏≤
4. **‡∏î‡∏π‡∏ß‡πà‡∏≤ error ‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏≠‡∏∞‡πÑ‡∏£**

## üÜò ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ

### ‡∏•‡∏≠‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡∏∑‡πà‡∏ô:

1. **‡∏õ‡∏¥‡∏î Custom SMTP ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß:**
   - ‡∏õ‡∏¥‡∏î "Enable custom SMTP"
   - Save changes
   - ‡∏•‡∏≠‡∏á signup ‡∏î‡∏π‡∏ß‡πà‡∏≤‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
   - ‡∏ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ ‚Üí ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà Custom SMTP
   - ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‚Üí ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏≠‡∏∑‡πà‡∏ô

2. **‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ SendGrid ‡πÅ‡∏ó‡∏ô Resend:**
   - ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ SendGrid
   - ‡∏™‡∏£‡πâ‡∏≤‡∏á API Key
   - ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Supabase:
     ```
     Host: smtp.sendgrid.net
     Port: 587
     Username: apikey
     Password: [SendGrid API Key]
     ```

3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Resend Dashboard ‚Üí Logs:**
   - ‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏°‡∏µ email ‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
   - ‡∏î‡∏π error messages (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)

## üìã Checklist

- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ SMTP Settings save ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö SMTP connection (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏°)
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Resend API Key
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö SMTP Settings ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Resend Dashboard ‚Üí Logs
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Supabase Dashboard ‚Üí Audit Logs
- [ ] ‡∏õ‡∏¥‡∏î Email Verification ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö signup ‡πÉ‡∏´‡∏°‡πà

## üí° ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥

**‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏™‡πà‡∏á email ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ:**
- ‡∏õ‡∏¥‡∏î Email Verification ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ signup ‡πÑ‡∏î‡πâ‡∏Å‡πà‡∏≠‡∏ô
- ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ SMTP ‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á
- ‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ Email Provider ‡∏≠‡∏∑‡πà‡∏ô (SendGrid, AWS SES)
