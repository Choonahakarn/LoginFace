# สรุป Consent และ PDPA — โปรเจค LoginFace / Facein.co

เอกสารนี้สรุปให้คนที่ฝากดูเรื่อง consent กับ PDPA ใช้ประกอบการตรวจสอบ

---

## 1. สิ่งที่มีอยู่แล้วในระบบ

### 1.1 การเก็บข้อมูล (Data minimization ตาม PDPA)

- **ไม่เก็บรูปใบหน้า หรือวิดีโอ** — เก็บเฉพาะ **Face Embedding** (เวกเตอร์ตัวเลข) + metadata (วันที่, confidence, model version)
- Embedding แปลงย้อนกลับเป็นใบหน้าไม่ได้ ใช้ได้เฉพาะเทียบความเหมือน (one-way)
- ระบุในโค้ดและ UI แล้ว เช่น  
  `เก็บเฉพาะ embedding + model_version + วันที่ + confidence (ไม่เก็บรูป/วิดีโอ ตาม PDPA)`

**ไฟล์ที่อ้างอิง:**  
`app/src/sections/FaceEnrollmentSection.tsx`, `app/src/types/face.ts`

### 1.2 สิทธิ์ลบข้อมูล (Right to erasure)

- ผู้ใช้ (ครู) สามารถ **ลบการลงทะเบียนใบหน้า** ของนักเรียนได้ (ปุ่มลบแต่ละรายการ / ล้างข้อมูลเก่าและลงทะเบียนใหม่)
- ข้อมูล attendance, students, classrooms อยู่ใน Supabase — ฝั่งผู้ใช้สามารถจัดการได้ตามที่ระบบออกแบบ

---

## 2. สิ่งที่ยังไม่มี / ควรเพิ่มเพื่อ Consent และ PDPA

### 2.1 Consent (ความยินยอม) ก่อนเก็บข้อมูลชีวภาพ

- **ไม่มี** หน้าหรือขั้นตอนขอความยินยอมชัดเจนก่อนลงทะเบียนใบหน้า
- ตาม PDPA โดยเฉพาะข้อมูลอ่อนไหว (เช่น ข้อมูลชีวภาพ) ควร:
  - **แจ้งวัตถุประสงค์** การเก็บ (เช่น ใช้เช็คชื่อเข้าเรียน)
  - **แจ้งประเภทข้อมูล** ที่เก็บ (เช่น embedding ไม่เก็บรูป)
  - **ขอความยินยอมอย่างชัดเจน** (เช่น checkbox “ยินยอมให้เก็บข้อมูลใบหน้าเพื่อ…”) ก่อนกด “เพิ่มใบหน้า” / ลงทะเบียน

**แนวทาง:**  
เพิ่มข้อความแจ้ง + ช่องติ๊ก “ยินยอม” ก่อนเปิดกล้องหรือก่อนส่งข้อมูลไป backend (ในหน้าลงทะเบียนใบหน้า)

### 2.2 นโยบายความเป็นส่วนตัว (Privacy Policy)

- **ไม่มี** หน้านโยบายความเป็นส่วนตัว (Privacy Policy) ในเว็บ
- ตาม PDPA ควรมีนโยบายที่อธิบายอย่างน้อย:
  - เก็บข้อมูลอะไร (บัญชี, ห้องเรียน, นักเรียน, การเข้าเรียน, **ข้อมูลใบหน้าในรูปแบบ embedding**)
  - เก็บเพื่ออะไร (จัดการห้องเรียน, เช็คชื่อ)
  - เก็บที่ไหน นานเท่าไร
  - สิทธิ์ของผู้ใช้ (ขอสำเนา, แก้ไข, ลบ, ถอนความยินยอม)
  - ช่องทางติดต่อผู้ควบคุมข้อมูล

**แนวทาง:**  
สร้างหน้า “นโยบายความเป็นส่วนตัว” (และถ้าต้องการ “ข้อกำหนดการใช้งาน”) แล้วลิงก์จากหน้า login / ฟุตเตอร์

### 2.3 การแจ้งก่อนเก็บ (Notice at collection)

- ใน UI มีข้อความว่า “ไม่เก็บรูป/วิดีโอ” อยู่แล้ว ซึ่งเป็น notice บางส่วน
- ควร **แจ้งก่อนการเก็บทุกครั้ง** ว่า:
  - กำลังเก็บข้อมูลใบหน้า (ในรูปแบบ embedding) เพื่อใช้เช็คชื่อ
  - ผู้ใช้สามารถถอนความยินยอม/ลบข้อมูลได้อย่างไร

**แนวทาง:**  
ใช้ข้อความเดียวกันหรือขยายในขั้นตอน consent ก่อนลงทะเบียนใบหน้า และอ้างอิงไปนโยบายความเป็นส่วนตัว

### 2.4 เอกสาร/นโยบายภายใน (ถ้าต้องการ)

- เอกสารสรุปการประมวลผลข้อมูล (Record of Processing Activities) ตาม PDPA
- นโยบายการเก็บ/ลบข้อมูล (retention) ของ embedding และ log

สามารถเขียนแยกเป็นไฟล์ใน repo หรือเก็บเป็น internal doc แล้วอ้างอิงใน Privacy Policy

---

## 3. สรุป Checklist สำหรับคนที่ฝากดู

| หัวข้อ | สถานะ | หมายเหตุ |
|--------|--------|----------|
| ไม่เก็บรูป/วิดีโอ เก็บเฉพาะ embedding | ✅ มี | ตรงหลัก data minimization |
| สิทธิ์ลบข้อมูล (ลบการลงทะเบียนใบหน้า) | ✅ มี | ครูลบได้ในระบบ |
| ขอความยินยอม (consent) ก่อนลงทะเบียนใบหน้า | ❌ ยังไม่มี | ควรเพิ่มข้อความแจ้ง + ช่องยินยอม |
| นโยบายความเป็นส่วนตัว (Privacy Policy) | ❌ ยังไม่มี | ควรมีหน้าในเว็บ + ลิงก์จากหน้า login/footer |
| แจ้งวัตถุประสงค์ก่อนเก็บ | ⚠️ บางส่วน | มีข้อความ “ไม่เก็บรูป” แต่ยังไม่ครบและไม่มี consent |
| ระยะเวลาการเก็บข้อมูล (retention) | ❌ ยังไม่ระบุ | ควรระบุในนโยบาย |

---

## 4. แนะนำลำดับการทำ

1. **ร่างนโยบายความเป็นส่วนตัว** (และข้อกำหนดการใช้งานถ้าต้องการ) ให้ครบตาม PDPA แล้วเผยแพร่ในเว็บ
2. **เพิ่มขั้นตอน consent** ก่อนลงทะเบียนใบหน้า: ข้อความแจ้ง + checkbox ยินยอม + ลิงก์ไปนโยบาย
3. **ระบุ retention** ในนโยบาย (และในระบบถ้ามีการลบอัตโนมัติ)
4. (ถ้าจำเป็น) เตรียมเอกสาร Record of Processing / นโยบายภายในสำหรับผู้ควบคุมข้อมูล

ถ้าต้องการให้ช่วยร่างข้อความ consent หรือโครงนโยบายความเป็นส่วนตัวเป็นข้อความจริงในโปรเจค บอกได้เลยว่าจะให้ใส่ในไฟล์ไหน (เช่น หน้าแรก, หน้าระบบ, ไฟล์ markdown ใน repo).
