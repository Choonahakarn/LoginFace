# üöÇ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Railway ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Backend

## ‚ö†Ô∏è ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏à‡∏≠: "Error creating build plan with Railpack"

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Railway ‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤ root directory ‡∏Ç‡∏≠‡∏á backend ‡∏Ñ‡∏∑‡∏≠ `backend/`

---

## ‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏î‡∏ß‡∏¥‡∏ò‡∏µ‡∏´‡∏ô‡∏∂‡πà‡∏á)

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á Service ‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Root Directory ‡∏ï‡∏≠‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

1. **‡πÑ‡∏õ‡∏ó‡∏µ‡πà Railway Dashboard**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà Project ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (renewed-essence)

2. **‡∏™‡∏£‡πâ‡∏≤‡∏á Service ‡πÉ‡∏´‡∏°‡πà**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **"New"** ‡∏´‡∏£‡∏∑‡∏≠ **"+"** 
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **"Deploy from GitHub repo"**
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Repository: `Choonahakarn/LoginFace`

3. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Root Directory ‡∏ï‡∏≠‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á**
   - ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Repository ‡πÅ‡∏•‡πâ‡∏ß
   - **‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏î Deploy** ‚Üí ‡∏´‡∏≤ **"Root Directory"** ‡∏´‡∏£‡∏∑‡∏≠ **"Configure"**
   - ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô: `backend`
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Deploy**

4. **‡∏£‡∏≠ Deploy ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à**
   - Railway ‡∏à‡∏∞ build ‡πÅ‡∏•‡∏∞ deploy ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Root Directory ‡πÉ‡∏ô Service Settings

**‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏™‡∏£‡πâ‡∏≤‡∏á Service ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß:**

1. **‡πÑ‡∏õ‡∏ó‡∏µ‡πà Service**
   - ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Project Dashboard ‚Üí ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà **Service** ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ (‡πÄ‡∏ä‡πà‡∏ô "gracious-commitment" ‡∏´‡∏£‡∏∑‡∏≠ "Backend")

2. **‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô Service**
   - ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏ó‡πá‡∏ö: **Deployments**, **Variables**, **Metrics**, **Settings**

3. **‡πÑ‡∏õ‡∏ó‡∏µ‡πà Settings**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÅ‡∏ó‡πá‡∏ö **Settings** (‚öôÔ∏è)

4. **‡∏´‡∏≤ Root Directory**
   - ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Settings ‚Üí ‡∏´‡∏≤ **"Root Directory"** ‡∏´‡∏£‡∏∑‡∏≠ **"Source"**
   - ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠ ‚Üí ‡∏•‡∏≠‡∏á‡∏î‡∏π‡∏ó‡∏µ‡πà **"General"** ‡∏´‡∏£‡∏∑‡∏≠ **"Build"** section
   - ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô: `backend`
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Save**

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå Config (‡∏ñ‡πâ‡∏≤‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡∏∑‡πà‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)

**‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå `backend/nixpacks.toml` ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß** ‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏∞‡∏ö‡∏≠‡∏Å Railway ‡∏ß‡πà‡∏≤:
- ‡πÉ‡∏ä‡πâ Python 3.11
- ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies ‡∏à‡∏≤‡∏Å `backend/requirements.txt`
- ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≤‡∏Å `backend/` directory

**‡πÅ‡∏ï‡πà Railway ‡∏¢‡∏±‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤ root directory ‡∏Ñ‡∏∑‡∏≠ `backend/`**

---

## üîç ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏´‡∏≤ Root Directory ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠

### ‡∏•‡∏≠‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏ô‡∏µ‡πâ:

1. **‡∏•‡∏ö Service ‡πÄ‡∏î‡∏¥‡∏°**
   - Service ‚Üí Settings ‚Üí Danger Zone ‚Üí Delete Service

2. **‡∏™‡∏£‡πâ‡∏≤‡∏á Service ‡πÉ‡∏´‡∏°‡πà**
   - New ‚Üí Deploy from GitHub repo
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Repository
   - **‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ Railway ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏ñ‡∏≤‡∏° Root Directory** ‚Üí ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πá‡∏ô `backend`

3. **‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ Railway CLI**
   ```bash
   railway login
   railway link
   railway service
   railway variables set ROOT_DIR=backend
   ```

---

## üìù Environment Variables ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å Deploy ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Service ‚Üí **Variables**
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **New Variable**
3. ‡πÄ‡∏û‡∏¥‡πà‡∏°:
   - **Name:** `FRONTEND_URLS`
   - **Value:** `https://your-frontend-url.vercel.app` (‡πÉ‡∏™‡πà‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å deploy frontend ‡πÅ‡∏•‡πâ‡∏ß)

---

## ‚úÖ Checklist

- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á Service ‡πÉ‡∏´‡∏°‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Root Directory = `backend`
- [ ] Deploy ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (‡πÑ‡∏°‡πà‡∏°‡∏µ error)
- [ ] ‡πÑ‡∏î‡πâ Backend URL (‡πÄ‡∏ä‡πà‡∏ô `https://xxx.railway.app`)
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Backend: ‡πÄ‡∏õ‡∏¥‡∏î `https://xxx.railway.app/api/health`
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variable `FRONTEND_URLS`

---

## üÜò ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ

‡∏•‡∏≠‡∏á‡∏î‡∏π‡∏ó‡∏µ‡πà:
- Railway Dashboard ‚Üí Service ‚Üí **Deployments** ‚Üí ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà deployment ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î ‚Üí **View logs**
- ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô error message ‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô
